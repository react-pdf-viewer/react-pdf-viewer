"use strict";function e(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var t=e(require("react")),n="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,r=function(e){var r=t.useRef(null),o=e.once,a=e.threshold,i=e.onVisibilityChanged;return n((function(){var e=r.current;if(e){var t=new IntersectionObserver((function(n){n.forEach((function(n){var r=n.isIntersecting,a=n.intersectionRatio;i({isVisible:r,ratio:a}),r&&o&&(t.unobserve(e),t.disconnect())}))}),{threshold:a||0});return t.observe(e),function(){t.unobserve(e),t.disconnect()}}}),[]),r},o=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var s,l,u,p=function(e,n){var r=t.useRef(),o=function(){r.current&&clearTimeout(r.current)};return t.useEffect((function(){return function(){return o()}}),[]),t.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];o(),r.current=setTimeout((function(){e.apply(void 0,t)}),n)}),[e,n])},d={capture:!1,passive:!0},f={height:0,width:0};exports.FullScreenMode=void 0,(s=exports.FullScreenMode||(exports.FullScreenMode={})).Normal="Normal",s.Entering="Entering",s.Entered="Entered",s.EnteredCompletely="EnteredCompletely",s.Exitting="Exitting",s.Exited="Exited",exports.ScrollMode=void 0,(l=exports.ScrollMode||(exports.ScrollMode={})).Page="Page",l.Horizontal="Horizontal",l.Vertical="Vertical",l.Wrapped="Wrapped",function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(u||(u={}));var g,v={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},h={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},m={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},x="undefined"!=typeof window,w=x&&(u.FullScreenEnabled in document&&v||h.FullScreenEnabled in document&&h||m.FullScreenEnabled in document&&m)||v,E=function(){return x&&w.FullScreenEnabled in document&&!0===document[w.FullScreenEnabled]},P=function(e){return x?e[w.ExitFullScreen]():Promise.resolve({})},S=function(){return x?document[w.FullScreenElement]:null},b={height:0,width:0},y=function(e){var r=e.getCurrentPage,o=e.getCurrentScrollMode,a=e.jumpToPage,i=e.targetRef,c=t.useState(exports.FullScreenMode.Normal),s=c[0],l=c[1],u=function(){var e=t.useState(f),r=e[0],o=e[1],a=p((function(){o({height:window.innerHeight,width:window.innerWidth})}),100);return n((function(){return window.addEventListener("resize",a,d),function(){window.removeEventListener("resize",a,d)}}),[]),r}(),g=t.useState(b),v=g[0],h=g[1],m=t.useRef(b),y=t.useRef(r()),_=t.useRef(b),R=t.useState(i.current),M=R[0],C=R[1],k=t.useRef();n((function(){i.current!==M&&C(i.current)}),[]),n((function(){if(M){var e=new ResizeObserver((function(e){e.forEach((function(e){var t=e.target.getBoundingClientRect(),n=t.height,r=t.width;h({height:n,width:r})}))}));return e.observe(M),function(){e.unobserve(M),e.disconnect()}}}),[M]);var T=t.useCallback((function(e){var t=S();return t&&t!==e?(l(exports.FullScreenMode.Normal),P(t)):Promise.resolve()}),[]),L=t.useCallback((function(e){e&&E()&&(C(e),T(e).then((function(){k.current=e,l(exports.FullScreenMode.Entering),function(e){x&&e[w.RequestFullScreen]()}(e)})))}),[]),O=t.useCallback((function(){S()&&(l(exports.FullScreenMode.Exitting),P(document))}),[]),F=t.useCallback((function(){M&&(S()!==M&&l(exports.FullScreenMode.Exitting))}),[M]);return t.useEffect((function(){switch(s){case exports.FullScreenMode.Entering:k.current&&(k.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),y.current=r(),m.current={height:window.innerHeight,width:window.innerWidth};break;case exports.FullScreenMode.Entered:o()===exports.ScrollMode.Page?a(y.current).then((function(){l(exports.FullScreenMode.EnteredCompletely)})):l(exports.FullScreenMode.EnteredCompletely);break;case exports.FullScreenMode.Exitting:k.current&&(k.current.style.backgroundColor="",k.current=null),y.current=r();break;case exports.FullScreenMode.Exited:l(exports.FullScreenMode.Normal),o()===exports.ScrollMode.Page&&a(y.current)}}),[s]),t.useEffect((function(){if(s!==exports.FullScreenMode.Normal)return s===exports.FullScreenMode.Entering&&u.height===v.height&&u.width===v.width&&u.height>0&&u.width>0&&(0===_.current.height||u.height==_.current.height)?(_.current={height:window.innerHeight,width:window.innerWidth},void l(exports.FullScreenMode.Entered)):void(s===exports.FullScreenMode.Exitting&&m.current.height===u.height&&m.current.width===u.width&&u.height>0&&u.width>0&&l(exports.FullScreenMode.Exited))}),[s,u,v]),t.useEffect((function(){var e;return e=F,x&&document.addEventListener(w.FullScreenChange,e),function(){!function(e){x&&document.removeEventListener(w.FullScreenChange,e)}(F)}}),[M]),{enterFullScreenMode:L,exitFullScreenMode:O,fullScreenMode:s}};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(g||(g={}));var _,R,M,C=-9999,k=function(e){var n=e.doc,r=n.numPages,o=n.loadingTask.docId,a=t.useMemo((function(){return Array(r).fill(null).map((function(e,t){return{pageIndex:t,renderStatus:g.NotRenderedYet,visibility:C}}))}),[o]),i=t.useRef({currentRenderingPage:-1,startRange:0,endRange:r-1,visibilities:a}),c=function(e,t){i.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=i.current.visibilities.slice(i.current.startRange,i.current.endRange+1).filter((function(e){return e.visibility>C}));if(!e.length)return-1;for(var t=e[0].pageIndex,n=e[e.length-1].pageIndex,o=e.length,a=-1,c=-1,s=0;s<o;s++){if(e[s].renderStatus===g.Rendering)return-1;e[s].renderStatus===g.NotRenderedYet&&(-1===a||e[s].visibility>c)&&(a=e[s].pageIndex,c=e[s].visibility)}return a>-1?a:n+1<r&&i.current.visibilities[n+1].renderStatus!==g.Rendered?n+1:t-1>=0&&i.current.visibilities[t-1].renderStatus!==g.Rendered?t-1:-1},isInRange:function(e){return e>=i.current.startRange&&e<=i.current.endRange},markNotRendered:function(){for(var e=0;e<r;e++)i.current.visibilities[e].renderStatus=g.NotRenderedYet},markRendered:function(e){i.current.visibilities[e].renderStatus=g.Rendered},markRendering:function(e){-1!==i.current.currentRenderingPage&&i.current.currentRenderingPage!==e&&i.current.visibilities[i.current.currentRenderingPage].renderStatus===g.Rendering&&(i.current.visibilities[i.current.currentRenderingPage].renderStatus=g.NotRenderedYet),i.current.visibilities[e].renderStatus=g.Rendering,i.current.currentRenderingPage=e},setOutOfRange:function(e){c(e,C)},setRange:function(e,t){i.current.startRange=e,i.current.endRange=t;for(var n=0;n<r;n++)n<e||n>t?(i.current.visibilities[n].visibility=C,i.current.visibilities[n].renderStatus=g.NotRenderedYet):i.current.visibilities[n].visibility===C&&(i.current.visibilities[n].visibility=-1)},setVisibility:c}};exports.AnnotationType=void 0,(_=exports.AnnotationType||(exports.AnnotationType={}))[_.Text=1]="Text",_[_.Link=2]="Link",_[_.FreeText=3]="FreeText",_[_.Line=4]="Line",_[_.Square=5]="Square",_[_.Circle=6]="Circle",_[_.Polygon=7]="Polygon",_[_.Polyline=8]="Polyline",_[_.Highlight=9]="Highlight",_[_.Underline=10]="Underline",_[_.Squiggly=11]="Squiggly",_[_.StrikeOut=12]="StrikeOut",_[_.Stamp=13]="Stamp",_[_.Caret=14]="Caret",_[_.Ink=15]="Ink",_[_.Popup=16]="Popup",_[_.FileAttachment=17]="FileAttachment",function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(R||(R={})),exports.TextDirection=void 0,(M=exports.TextDirection||(exports.TextDirection={})).RightToLeft="RTL",M.LeftToRight="LTR";var T,L=t.createContext({currentTheme:"light",direction:exports.TextDirection.LeftToRight,setCurrentTheme:function(){}}),O=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),I=function(e,t,n,r){var o=parseInt(e,10);return o>=t&&o<=n?o:r},A=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},D=function(e){return e.titleObj?e.titleObj.str:e.title||""},V=function(e){var n=e.annotation,r=t.useContext(L).direction,o=D(n),a=A(n),i=r===exports.TextDirection.RightToLeft,c=t.useRef(),s="";if(n.modificationDate){var l=function(e){var t=F.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=I(t[2],1,12,1)-1,o=I(t[3],1,31,1),a=I(t[4],0,23,0),i=I(t[5],0,59,0),c=I(t[6],0,59,0),s=t[7]||"Z",l=I(t[8],0,23,0),u=I(t[9],0,59,0);switch(s){case"-":a+=l,i+=u;break;case"+":a-=l,i-=u}return new Date(Date.UTC(n,r,o,a,i,c))}(n.modificationDate);s=l?"".concat(l.toLocaleDateString(),", ").concat(l.toLocaleTimeString()):""}return t.useLayoutEffect((function(){if(c.current){var e=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex="".concat(parseInt(t.style.zIndex,10)-1)}}}}),[]),t.createElement("div",{ref:c,className:O({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":i}),style:{top:n.annotationType===exports.AnnotationType.Popup?"":"100%"}},o&&t.createElement(t.Fragment,null,t.createElement("div",{className:O({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!i,"rpv-core__annotation-popup-title--rtl":i})},o),t.createElement("div",{className:"rpv-core__annotation-popup-date"},s)),a&&t.createElement("div",{className:"rpv-core__annotation-popup-content"},a.split("\n").map((function(e,n){return t.createElement(t.Fragment,{key:n},e,t.createElement("br",null))}))))};exports.ToggleStatus=void 0,(T=exports.ToggleStatus||(exports.ToggleStatus={})).Close="Close",T.Open="Open",T.Toggle="Toggle";var N,z=function(e){var n=t.useState(e),r=n[0],o=n[1];return{opened:r,toggle:function(e){switch(e){case exports.ToggleStatus.Close:o(!1);break;case exports.ToggleStatus.Open:o(!0);break;case exports.ToggleStatus.Toggle:default:o((function(e){return!e}))}}}};!function(e){e.Click="Click",e.Hover="Hover"}(N||(N={}));var H,B=function(e){var n,r=e.annotation,o=e.children,a=e.ignoreBorder,i=e.hasPopup,c=e.isRenderable,s=e.page,l=e.viewport,u=r.rect,p=function(){var e=z(!1),n=e.opened,r=e.toggle,o=t.useState(N.Hover),a=o[0],i=o[1];return{opened:n,closeOnHover:function(){a===N.Hover&&r(exports.ToggleStatus.Close)},openOnHover:function(){a===N.Hover&&r(exports.ToggleStatus.Open)},toggleOnClick:function(){switch(a){case N.Click:n&&i(N.Hover),r(exports.ToggleStatus.Toggle);break;case N.Hover:i(N.Click),r(exports.ToggleStatus.Open)}}}}(),d=p.closeOnHover,f=p.opened,g=p.openOnHover,v=p.toggleOnClick,h=(n=[u[0],s.view[3]+s.view[1]-u[1],u[2],s.view[3]+s.view[1]-u[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),m=u[2]-u[0],x=u[3]-u[1],w={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!a&&r.borderStyle.width>0){switch(r.borderStyle.style){case R.Dashed:w.borderStyle="dashed";break;case R.Solid:w.borderStyle="solid";break;case R.Underline:w=Object.assign({borderBottomStyle:"solid"},w);case R.Beveled:case R.Inset:}var E=r.borderStyle.width;w.borderWidth="".concat(E,"px"),r.borderStyle.style!==R.Underline&&(m-=2*E,x-=2*E);var P=r.borderStyle,S=P.horizontalCornerRadius,b=P.verticalCornerRadius;(S>0||b>0)&&(w.borderRadius="".concat(S,"px / ").concat(b,"px")),r.color?w.borderColor="rgb(".concat(0|r.color[0],", ").concat(0|r.color[1],", ").concat(0|r.color[2],")"):w.borderWidth="0"}return t.createElement(t.Fragment,null,c&&o({popup:{opened:f,closeOnHover:d,openOnHover:g,toggleOnClick:v},slot:{attrs:{style:Object.assign({height:"".concat(x,"px"),left:"".concat(h[0],"px"),top:"".concat(h[1],"px"),transform:"matrix(".concat(l.transform.join(","),")"),transformOrigin:"-".concat(h[0],"px -").concat(h[1],"px"),width:"".concat(m,"px")},w)},children:t.createElement(t.Fragment,null,i&&f&&t.createElement(V,{annotation:r}))}}))},W=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},j=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},t.createElement("circle",{cy:d/2,fill:"none",rx:p/2-f/2,ry:d/2-f/2,stroke:"transparent",strokeWidth:f||1})),e.slot.children)}))},q=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=D(n),i=A(n),s=!(!1!==n.hasPopup||!a&&!i),l=function(){var e,t,r,o,a=n.file;a&&(e=a.filename,t=a.content,r="string"==typeof t?"":URL.createObjectURL(new Blob([t],{type:""})),(o=document.createElement("a")).style.display="none",o.href=r||e,o.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(o),o.click(),document.body.removeChild(o),r&&URL.revokeObjectURL(r))};return t.createElement(B,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:!0,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Z=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var r=e.annotation,o=e.page,a=e.viewport,i=D(r),s=A(r),l=!(!i&&!s),u=!r.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(r.parentType);return n((function(){if(r.parentId){var e=document.querySelector('[data-annotation-id="'.concat(r.parentId,'"]')),t=document.querySelector('[data-annotation-id="'.concat(r.id,'"]'));if(e&&t){var n=parseFloat(e.style.left),o=parseFloat(e.style.top)+parseFloat(e.style.height);t.style.left="".concat(n,"px"),t.style.top="".concat(o,"px"),t.style.transformOrigin="-".concat(n,"px -").concat(o,"px")}}}),[]),t.createElement(B,{annotation:r,hasPopup:u,ignoreBorder:!1,isRenderable:l,page:o,viewport:a},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":r.id}),t.createElement(V,{annotation:r}))}))},U=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,s=D(n),l=A(n),u=!!(n.hasPopup||s||l);if(n.quadPoints&&n.quadPoints.length>0){var p=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return t.createElement(t.Fragment,null,p.map((function(e,n){return t.createElement(U,{key:n,annotation:e,childAnnotation:r,page:o,viewport:a})})))}return t.createElement(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:u,page:o,viewport:a},(function(e){return t.createElement(t.Fragment,null,t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),r&&r.annotationType===exports.AnnotationType.Popup&&e.popup.opened&&t.createElement(J,{annotation:r,page:o,viewport:a}))}))},G=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.inkLists&&n.inkLists.length&&t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},n.inkLists.map((function(e,n){return t.createElement("polyline",{key:n,fill:"none",stroke:"transparent",strokeWidth:f||1,points:e.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Y=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},t.createElement("line",{stroke:"transparent",strokeWidth:f||1,x1:u[2]-n.lineCoordinates[0],x2:u[2]-n.lineCoordinates[2],y1:u[3]-n.lineCoordinates[1],y2:u[3]-n.lineCoordinates[3]})),e.slot.children)}))};exports.SpecialZoomLevel=void 0,(H=exports.SpecialZoomLevel||(exports.SpecialZoomLevel={})).ActualSize="ActualSize",H.PageFit="PageFit",H.PageWidth="PageWidth";var K,X,Q=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:function(e,n){return null===t[3]?n:t[3]},leftOffset:function(e,n){return null===t[2]?0:t[2]},pageIndex:e,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},$=new Map,ee=new Map,te=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},ne=function(e,t,n){$.set(te(e,t),n)},re=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=ee.get(n);return r?Promise.resolve(r):new Promise((function(r,o){e.getPage(t+1).then((function(o){ee.set(n,o),o.ref&&ne(e,o.ref,t),r(o)}))}))},oe=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(r){if("object"==typeof r[0]&&null!==r[0]){var o=r[0],a=function(e,t){var n=te(e,t);return $.has(n)?$.get(n):null}(e,o);null===a?e.getPageIndex(o).then((function(r){ne(e,o,r),oe(e,t).then((function(e){return n(e)}))})):n(Q(a,r))}else{var i=Q(r[0],r);n(i)}}))}))},ae=/^([^\w]*)(javascript|data|vbscript)/im,ie=/&#(\w+)(^\w|;)?/g,ce=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,se=/^([^:]+):/gm,le=function(e,t){void 0===t&&(t="about:blank");var n,r=(n=e||"",n.replace(ie,(function(e,t){return String.fromCharCode(t)}))).replace(ce,"").trim();if(!r)return t;var o=r[0];if("."===o||"/"===o)return r;var a=r.match(se);if(!a)return r;var i=a[0];return ae.test(i)?t:r},ue=function(e){var n,r=e.annotation,o=e.annotationContainerRef,a=e.doc,i=e.outlines,s=e.page,l=e.pageIndex,u=e.scale,p=e.viewport,d=e.onExecuteNamedAction,f=e.onJumpFromLinkAnnotation,g=e.onJumpToDest,v=t.useRef(),h=i&&i.length&&r.dest&&"string"==typeof r.dest?null===(n=i.find((function(e){return e.dest===r.dest})))||void 0===n?void 0:n.title:"",m=!!(r.url||r.dest||r.action||r.unsafeUrl),x={};if(r.url||r.unsafeUrl){var w=le(r.url||r.unsafeUrl,"");w?x={"data-target":"external",href:w,rel:"noopener noreferrer nofollow",target:r.newWindow?"_blank":"",title:w}:m=!1}else x={href:"","data-annotation-link":r.id,onClick:function(e){e.preventDefault(),r.action?d(r.action):oe(a,r.dest).then((function(e){var t=v.current,n=o.current;if(t&&n){var r=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var a=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var i=(r.left-a.left)/u,c=(a.bottom-r.bottom+r.height)/u;f({bottomOffset:c,label:h,leftOffset:i,pageIndex:l})}g(e)}))}};return h&&(x=Object.assign({},x,{title:h,"aria-label":h})),t.createElement(B,{annotation:r,hasPopup:!1,ignoreBorder:!1,isRenderable:m,page:s,viewport:p},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":r.id,"data-testid":"core__annotation--link-".concat(r.id)}),t.createElement("a",c({ref:v},x)))}))},pe=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.vertices&&n.vertices.length&&t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},t.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")})),e.slot.children)}))},de=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.vertices&&n.vertices.length&&t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},t.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")})),e.slot.children)}))},fe=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s),u=n.rect,p=u[2]-u[0],d=u[3]-u[1],f=n.borderStyle.width;return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.createElement("svg",{height:"".concat(d,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(p," ").concat(d),width:"".concat(p,"px")},t.createElement("rect",{height:d-f,fill:"none",stroke:"transparent",strokeWidth:f||1,x:f/2,y:f/2,width:p-f})),e.slot.children)}))},ge=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ve=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},he=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},me=function(e){var n=e.children,r=e.ignoreDirection,o=void 0!==r&&r,a=e.size,i=void 0===a?24:a,c=t.useContext(L).direction,s=!o&&c===exports.TextDirection.RightToLeft,l="".concat(i||24,"px");return t.createElement("svg",{"aria-hidden":"true",className:O({"rpv-core__icon":!0,"rpv-core__icon--rtl":s}),focusable:"false",height:l,viewBox:"0 0 24 24",width:l},n)},xe=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},we=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),t.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),t.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),t.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Ee=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),t.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),t.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),t.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),t.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),t.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),t.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),t.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),t.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),t.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Pe=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),t.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Se=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),t.createElement("path",{d:"M6 4.5L6 0.5"}),t.createElement("path",{d:"M18 4.5L18 0.5"}),t.createElement("path",{d:"M10 4.5L10 0.5"}),t.createElement("path",{d:"M14 4.5L14 0.5"}))},be=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),t.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),t.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ye=function(){return t.createElement(me,{size:16},t.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},_e=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,s=D(n),l=A(n),u=!!(n.hasPopup||s||l),p=n.name?n.name.toLowerCase():"";return t.createElement(B,{annotation:n,hasPopup:i,ignoreBorder:!1,isRenderable:u,page:o,viewport:a},(function(e){return t.createElement(t.Fragment,null,t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),p&&t.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===p&&t.createElement(xe,null),"comment"===p&&t.createElement(we,null),"help"===p&&t.createElement(Ee,null),"insert"===p&&t.createElement(ye,null),"key"===p&&t.createElement(Pe,null),"note"===p&&t.createElement(Se,null),("newparagraph"===p||"paragraph"===p)&&t.createElement(be,null)),e.slot.children),r&&r.annotationType===exports.AnnotationType.Popup&&e.popup.opened&&t.createElement(J,{annotation:r,page:o,viewport:a}))}))},Re=function(e){var n=e.annotation,r=e.page,o=e.viewport,a=!1===n.hasPopup,i=D(n),s=A(n),l=!!(n.hasPopup||i||s);return t.createElement(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:l,page:r,viewport:o},(function(e){return t.createElement("div",c({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Me=function(e){var r=e.annotations,o=e.doc,a=e.outlines,i=e.page,c=e.pageIndex,s=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpFromLinkAnnotation,f=e.onJumpToDest,g=t.useRef(),v=i.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=r.filter((function(e){return!e.parentId}));return n((function(){var e=g.current;e&&s.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:c,rotation:l,scale:u})}))}),[]),t.createElement("div",{ref:g,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(c)},h.map((function(e){var n=r.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case exports.AnnotationType.Caret:return t.createElement(W,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Circle:return t.createElement(j,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.FileAttachment:return t.createElement(q,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.FreeText:return t.createElement(Z,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Highlight:return t.createElement(U,{key:e.id,annotation:e,childAnnotation:n,page:i,viewport:v});case exports.AnnotationType.Ink:return t.createElement(G,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Line:return t.createElement(Y,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Link:return t.createElement(ue,{key:e.id,annotation:e,annotationContainerRef:g,doc:o,outlines:a,page:i,pageIndex:c,scale:u,viewport:v,onExecuteNamedAction:p,onJumpFromLinkAnnotation:d,onJumpToDest:f});case exports.AnnotationType.Polygon:return t.createElement(pe,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Polyline:return t.createElement(de,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Popup:return t.createElement(J,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Square:return t.createElement(fe,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Squiggly:return t.createElement(ge,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Stamp:return t.createElement(ve,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.StrikeOut:return t.createElement(he,{key:e.id,annotation:e,page:i,viewport:v});case exports.AnnotationType.Text:return t.createElement(_e,{key:e.id,annotation:e,childAnnotation:n,page:i,viewport:v});case exports.AnnotationType.Underline:return t.createElement(Re,{key:e.id,annotation:e,page:i,viewport:v});default:return t.createElement(t.Fragment,{key:e.id})}})))},Ce=function(){var e=t.useRef(!1);return t.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e},ke=function(e){var n=e.page,r=e.renderAnnotations,o=Ce(),a=t.useState({loading:!0,annotations:[]}),i=a[0],c=a[1];return t.useEffect((function(){n.getAnnotations({intent:"display"}).then((function(e){o.current&&c({loading:!1,annotations:e})}))}),[]),i.loading?t.createElement(t.Fragment,null):r(i.annotations)},Te=function(e){var n=e.doc,r=e.outlines,o=e.page,a=e.pageIndex,i=e.plugins,c=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpFromLinkAnnotation,p=e.onJumpToDest;return t.createElement(ke,{page:o,renderAnnotations:function(e){return t.createElement(Me,{annotations:e,doc:n,outlines:r,page:o,pageIndex:a,plugins:i,rotation:c,scale:s,onExecuteNamedAction:l,onJumpFromLinkAnnotation:u,onJumpToDest:p})}})},Le=function(e){var n=e.size,o=void 0===n?"4rem":n,a=e.testId,i=t.useState(!1),s=i[0],l=i[1],u=a?{"data-testid":a}:{},p=r({onVisibilityChanged:function(e){l(e.isVisible)}});return t.createElement("div",c({},u,{className:O({"rpv-core__spinner":!0,"rpv-core__spinner--animating":s}),ref:p,style:{height:o,width:o}}))};exports.ViewMode=void 0,(K=exports.ViewMode||(exports.ViewMode={})).DualPage="DualPage",K.DualPageWithCover="DualPageWithCover",K.SinglePage="SinglePage",exports.LayerRenderStatus=void 0,(X=exports.LayerRenderStatus||(exports.LayerRenderStatus={}))[X.PreRender=0]="PreRender",X[X.DidRender=1]="DidRender";var Oe,Fe=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},Ie=function(e){var r=e.canvasLayerRef,o=e.height,a=e.page,i=e.pageIndex,c=e.plugins,s=e.rotation,l=e.scale,u=e.width,p=e.onRenderCanvasCompleted,d=t.useRef();return n((function(){var e=d.current;e&&e.cancel();var t=r.current;t.removeAttribute("data-testid"),c.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:i,rotation:s,scale:l,status:exports.LayerRenderStatus.PreRender})}));var n=a.getViewport({rotation:s,scale:l}),o=window.devicePixelRatio||1,u=Math.sqrt(16777216/(n.width*n.height)),f=o>u;f?t.style.transform="scale(1, 1)":t.style.removeProperty("transform");var g=Math.min(u,o),v=function(e,t){var n,r;if(Math.floor(e)===e)return[e,1];var o=1/e;if(o>t)return[1,t];if(Math.floor(o)===o)return[1,o];for(var a=e>1?o:e,i=0,c=1,s=1,l=1;;){var u=i+s,p=c+l;if(p>t)break;a<=u/p?(s=(n=[u,p])[0],l=n[1]):(i=(r=[u,p])[0],c=r[1])}return a<(i/c+s/l)/2?a===e?[i,c]:[c,i]:a===e?[s,l]:[l,s]}(g,8),h=v[0],m=v[1];t.width=Fe(n.width*g,h),t.height=Fe(n.height*g,h),t.style.width="".concat(Fe(n.width,m),"px"),t.style.height="".concat(Fe(n.height,m),"px"),t.hidden=!0;var x=t.getContext("2d",{alpha:!1}),w=f||1!==o?[g,0,0,g,0,0]:null;return d.current=a.render({canvasContext:x,transform:w,viewport:n}),d.current.promise.then((function(){t.hidden=!1,t.setAttribute("data-testid","core__canvas-layer-".concat(i)),c.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:i,rotation:s,scale:l,status:exports.LayerRenderStatus.DidRender})})),p()}),(function(){p()})),function(){t&&(t.width=0,t.height=0)}}),[]),t.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(o,"px"),width:"".concat(u,"px")}},t.createElement("canvas",{ref:r}))},Ae=t.createContext({}),De=function(e){var r=e.height,o=e.page,a=e.rotation,i=e.scale,c=e.width,s=t.useContext(Ae).pdfJsApiProvider,l=t.useRef();return n((function(){var e=l.current,t=o.getViewport({rotation:a,scale:i});o.getOperatorList().then((function(n){!function(){var e=l.current;e&&(e.innerHTML="")}(),new s.SVGGraphics(o.commonObjs,o.objs).getSVG(n,t).then((function(t){t.style.height="".concat(r,"px"),t.style.width="".concat(c,"px"),e.appendChild(t)}))}))}),[]),t.createElement("div",{className:"rpv-core__svg-layer",ref:l})},Ve=function(e){var r=e.containerRef,o=e.page,a=e.pageIndex,i=e.plugins,c=e.rotation,s=e.scale,l=e.onRenderTextCompleted,u=t.useContext(Ae).pdfJsApiProvider,p=t.useRef(),d=function(){var e=r.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(t){return e.removeChild(t)})),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach((function(t){return e.removeChild(t)})))};return n((function(){var e=p.current;e&&e.cancel();var t=r.current;if(t){t.removeAttribute("data-testid");var n=o.getViewport({rotation:c,scale:s});return i.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:s,status:exports.LayerRenderStatus.PreRender})})),o.getTextContent().then((function(e){d(),t.style.setProperty("--scale-factor","".concat(s)),p.current=u.renderTextLayer({container:t,textContent:e,textContentSource:e,viewport:n}),p.current.promise.then((function(){t.setAttribute("data-testid","core__text-layer-".concat(a)),[].slice.call(t.children).forEach((function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")})),i.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:s,status:exports.LayerRenderStatus.DidRender})})),l()}),(function(){t.removeAttribute("data-testid"),l()}))})),function(){var e;d(),null===(e=p.current)||void 0===e||e.cancel()}}}),[]),t.createElement("div",{className:"rpv-core__text-layer",ref:r})},Ne=function(e){var n=e.doc,r=e.measureRef,o=e.outlines,a=e.pageIndex,i=e.pageRotation,c=e.pageSize,s=e.plugins,l=e.renderPage,u=e.renderQueueKey,p=e.rotation,d=e.scale,f=e.shouldRender,g=e.viewMode,v=e.onExecuteNamedAction,h=e.onJumpFromLinkAnnotation,m=e.onJumpToDest,x=e.onRenderCompleted,w=e.onRotatePage,E=Ce(),P=t.useState(null),S=P[0],b=P[1],y=t.useState(!1),_=y[0],R=y[1],M=t.useState(!1),C=M[0],k=M[1],T=t.useRef(),L=t.useRef(),F=Math.abs(p+i)%180==0,I=c.pageWidth*d,A=c.pageHeight*d,D=F?I:A,V=F?A:I,N=(c.rotation+p+i)%360,z=t.useRef(0),H=l||function(e){return t.createElement(t.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return t.useEffect((function(){b(null),R(!1),k(!1)}),[i,p,d]),t.useEffect((function(){f&&E.current&&!S&&re(n,a).then((function(e){E.current&&(z.current=u,b(e))}))}),[f,S]),t.useEffect((function(){_&&C&&(u!==z.current?(b(null),R(!1),k(!1)):x(a))}),[_,C]),t.createElement("div",{className:O({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":g===exports.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":g===exports.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":g===exports.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(a),ref:r,style:{height:"".concat(V,"px"),width:"".concat(D,"px")}},S?t.createElement(t.Fragment,null,H({annotationLayer:{attrs:{},children:t.createElement(Te,{doc:n,outlines:o,page:S,pageIndex:a,plugins:s,rotation:N,scale:d,onExecuteNamedAction:v,onJumpFromLinkAnnotation:h,onJumpToDest:m})},canvasLayer:{attrs:{},children:t.createElement(Ie,{canvasLayerRef:T,height:V,page:S,pageIndex:a,plugins:s,rotation:N,scale:d,width:D,onRenderCanvasCompleted:function(){E.current&&R(!0)}})},canvasLayerRendered:_,doc:n,height:V,pageIndex:a,rotation:N,scale:d,svgLayer:{attrs:{},children:t.createElement(De,{height:V,page:S,rotation:N,scale:d,width:D})},textLayer:{attrs:{},children:t.createElement(Ve,{containerRef:L,page:S,pageIndex:a,plugins:s,rotation:N,scale:d,onRenderTextCompleted:function(){E.current&&k(!0)}})},textLayerRendered:C,width:D,markRendered:x,onRotatePage:function(e){return w(a,e)}}),s.map((function(e,r){return e.renderPageLayer?t.createElement(t.Fragment,{key:r},e.renderPageLayer({canvasLayerRef:T,canvasLayerRendered:_,doc:n,height:V,pageIndex:a,rotation:N,scale:d,textLayerRef:L,textLayerRendered:C,width:D})):t.createElement(t.Fragment,{key:r})}))):t.createElement(Le,{testId:"core__page-layer-loading-".concat(a)}))},ze={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},He=t.createContext({l10n:ze,setL10n:function(){}});exports.RotateDirection=void 0,(Oe=exports.RotateDirection||(exports.RotateDirection={})).Backward="Backward",Oe.Forward="Forward";var Be,We=function(e,t){return e.reduce((function(e,n,r){return r%t?e[e.length-1].push(n):e.push([n]),e}),[])},je=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(Be||(Be={}));var qe,Ze=function(e){return 1-Math.pow(1-e,4)},Je=1e-4,Ue={left:0,top:0},Ge={capture:!1,passive:!0},Ye=function(e){var r=e.elementRef,o=e.enableSmoothScroll,a=e.isRtl,i=e.scrollDirection,c=e.onSmoothScroll,s=t.useState(Ue),l=s[0],u=s[1],p=t.useState(r.current),d=p[0],f=p[1],g=a?-1:1,v=t.useRef(i);v.current=i;var h=t.useRef(Ue),m=t.useRef(!0),x=t.useCallback((function(){m.current=!0,o&&u(h.current),c(!1)}),[]),w=t.useCallback((function(){if(d){switch(v.current){case Be.Horizontal:h.current={left:g*d.scrollLeft,top:0};break;case Be.Both:h.current={left:g*d.scrollLeft,top:d.scrollTop};break;case Be.Vertical:default:h.current={left:0,top:d.scrollTop}}o&&!m.current||u(h.current)}}),[d]);n((function(){f(r.current)})),n((function(){if(d)return d.addEventListener("scroll",w,Ge),function(){d.removeEventListener("scroll",w,Ge)}}),[d]);var E=t.useCallback((function(e,t){var n=r.current;if(!n)return Promise.resolve();var o={left:0,top:0};switch(v.current){case Be.Horizontal:o.left=g*e.left;break;case Be.Both:o.left=g*e.left,o.top=e.top;break;case Be.Vertical:default:o.top=e.top}return t?(m.current=!1,c(!0),new Promise((function(e,t){!function(e,t,n,r,o,a){void 0===o&&(o=function(e){return e}),void 0===a&&(a=function(){});var i=0,c=0,s=!1;switch(t){case Be.Horizontal:c=e.scrollLeft,i=0;case Be.Both:c=e.scrollLeft,i=e.scrollTop;break;case Be.Vertical:default:c=0,i=e.scrollTop}var l=function(){s||(s=!0,e.scrollLeft=n.left,e.scrollTop=n.top,a())};if(Math.abs(i-n.top)<=Je&&t===Be.Vertical)l();else if(Math.abs(c-n.left)<=Je&&t===Be.Horizontal)l();else{var u,p=-1,d=c-n.left,f=i-n.top,g=function(a){-1===p&&(p=a);var v=a-p,h=Math.min(v/r,1),m=o(h),x={left:c-d*m,top:i-f*m};switch(t){case Be.Horizontal:e.scrollLeft=x.left;break;case Be.Both:e.scrollLeft=x.left,e.scrollTop=x.top;break;case Be.Vertical:default:e.scrollTop=x.top}Math.abs(x.top-n.top)<=Je&&Math.abs(x.left-n.left)<=Je&&!s&&(window.cancelAnimationFrame(u),l()),v<r?u=window.requestAnimationFrame(g):window.cancelAnimationFrame(u)};u=window.requestAnimationFrame(g)}}(n,v.current,o,400,Ze,(function(){x(),e()}))}))):new Promise((function(e,t){switch(v.current){case Be.Horizontal:n.scrollLeft=o.left;break;case Be.Both:n.scrollLeft=o.left,n.scrollTop=o.top;break;case Be.Vertical:default:n.scrollTop=o.top}e()}))}),[r]);return{scrollOffset:l,scrollTo:E}},Ke=function(e,t,n){return Math.max(e,Math.min(n,t))},Xe=function(e,t){if(t!==exports.ViewMode.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var n=We(e.slice(1),2).map((function(e){return 2===e.length?e[0].width+e[1].width:e[0].width})),r=[e[0].width].concat(n);return Math.max.apply(Math,r)},Qe={left:0,top:0},$e={left:0,top:0},et={left:0,top:0},tt={left:0,top:0},nt={height:0,width:0},rt={left:0,top:0},ot="data-virtual-index",at=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],it=function(e){var r=e.enableSmoothScroll,o=e.isRtl,a=e.numberOfItems,i=e.parentRef,s=e.setRenderRange,l=e.sizes,u=e.scrollMode,p=e.viewMode,d=e.onVisibilityChanged,f=t.useState(!1),g=f[0],v=f[1],h=t.useCallback((function(e){return v(e)}),[]),m=t.useRef(u);m.current=u;var x=t.useRef(p);x.current=p;var w=u===exports.ScrollMode.Wrapped||p===exports.ViewMode.DualPageWithCover||p===exports.ViewMode.DualPage?Be.Both:u===exports.ScrollMode.Horizontal?Be.Horizontal:Be.Vertical,E=Ye({elementRef:i,enableSmoothScroll:r,isRtl:o,scrollDirection:w,onSmoothScroll:h}),P=E.scrollOffset,S=E.scrollTo,b=function(e){var r=e.elementRef,o=t.useState(r.current),a=o[0],i=o[1],c=t.useRef(!1),s=t.useReducer(je,{height:0,width:0}),l=s[0],u=s[1];return n((function(){r.current!==a&&i(r.current)})),n((function(){if(a&&!c.current){c.current=!0;var e=a.getBoundingClientRect(),t=e.height,n=e.width;u({rect:{height:t,width:n}})}}),[a]),t.useEffect((function(){if(a){var e=new ResizeObserver((function(e,t){e.forEach((function(e){if(e.target===a){var t=e.contentRect,n=t.height,r=t.width;u({rect:{height:n,width:r}})}}))}));return e.observe(a),function(){e.unobserve(a)}}}),[a]),l}({elementRef:i}),y=t.useRef({scrollOffset:rt,measurements:[]});y.current.scrollOffset=P;var _=t.useMemo((function(){return Array(a).fill(-1)}),[]),R=t.useState(_),M=R[0],C=R[1],k=t.useMemo((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(ot);if(n){var r=parseInt(n,10);0<=r&&r<a&&(d(r,t),C((function(e){return e[r]=t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0)})))}}))}),{threshold:at});return e}),[]),T=t.useMemo((function(){return u===exports.ScrollMode.Page&&p===exports.ViewMode.SinglePage?function(e,t,n){for(var r=[],o=0;o<e;o++){var a={height:Math.max(t.height,n[o].height),width:Math.max(t.width,n[o].width)},i=0===o?tt:r[o-1].end,c={left:i.left+a.width,top:i.top+a.height};r[o]={index:o,start:i,size:a,end:c,visibility:-1}}return r}(a,b,l):p===exports.ViewMode.DualPageWithCover?function(e,t,n,r){for(var o=[],a=0,i=0,c=et,s=0;s<e;s++){var l=0===s?{height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:r===exports.ScrollMode.Page?Math.max(t.width,n[s].width):n[s].width}:{height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:Math.max(t.width/2,n[s].width)};r===exports.ScrollMode.Page?c=0===s?et:{left:s%2==0?l.width:0,top:Math.floor((s-1)/2)*l.height+o[0].end.top}:0===s?(c=et,a=n[0].height,i=0):s%2==1?(c={left:0,top:a+=i},i=s===e-1?n[s].height:Math.max(n[s].height,n[s+1].height)):c={left:o[s-1].end.left,top:a};var u={left:c.left+l.width,top:c.top+l.height};o[s]={index:s,start:c,size:l,end:u,visibility:-1}}return o}(a,b,l,u):p===exports.ViewMode.DualPage?function(e,t,n,r){for(var o=[],a=0,i=0,c=$e,s=0;s<e;s++){var l={height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:Math.max(t.width/2,n[s].width)};r===exports.ScrollMode.Page?c={left:s%2==0?0:l.width,top:Math.floor(s/2)*l.height}:s%2==0?(c={left:0,top:a+=i},i=s===e-1?n[s].height:Math.max(n[s].height,n[s+1].height)):c={left:o[s-1].end.left,top:a};var u={left:c.left+l.width,top:c.top+l.height};o[s]={index:s,start:c,size:l,end:u,visibility:-1}}return o}(a,b,l,u):function(e,t,n,r){for(var o=[],a=0,i={left:0,top:0},c=0,s=Qe,l=0;l<e;l++){var u=n[l];if(0===l)a=u.width,i={left:0,top:0},c=u.height;else switch(r){case exports.ScrollMode.Wrapped:(a+=u.width)<t.width?(s={left:o[l-1].end.left,top:i.top},c=Math.max(c,u.height)):(a=u.width,i={left:(s={left:i.left,top:i.top+c}).left,top:s.top},c=u.height);break;case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:s=o[l-1].end}var p={left:s.left+u.width,top:s.top+u.height};o[l]={index:l,start:s,size:u,end:p,visibility:-1}}return o}(a,b,l,u)}),[u,l,p,b]),L=T[a-1]?{height:T[a-1].end.top,width:T[a-1].end.left}:nt;y.current.measurements=T;var O=t.useMemo((function(){var e=function(e,t,n,r){var o=0;switch(e){case Be.Horizontal:o=r.left;break;case Be.Vertical:default:o=r.top}var a=t.length-1,i=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,a=r(o);if(a<n)e=o+1;else{if(!(a>n))return o;t=o-1}}return e>0?e-1:0}(0,a,o,(function(n){switch(e){case Be.Horizontal:return t[n].start.left;case Be.Both:case Be.Vertical:default:return t[n].start.top}}));if(e===Be.Both)for(var c=t[i].start.top;i-1>=0&&t[i-1].start.top===c&&t[i-1].start.left>=r.left;)i--;for(var s=i;s<=a;){var l={top:t[s].start.top-r.top,left:t[s].start.left-r.left},u={height:n.height-l.top,width:n.width-l.left};if(e===Be.Horizontal&&u.width<0)break;if(e===Be.Vertical&&u.height<0)break;if(e===Be.Both&&(u.width<0||u.height<0))break;s++}return{start:i,end:s}}(w,T,b,P),t=e.start,n=e.end,r=M.slice(Ke(0,a,t),Ke(0,a,n)),o=t+r.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),i=o=Ke(0,a-1,o),c=s({endPage:n,numPages:a,startPage:t}),l=c.startPage,u=c.endPage;switch(l=Math.max(l,0),u=Math.min(u,a-1),p){case exports.ViewMode.DualPageWithCover:o>0&&(i=o%2==1?o:o-1),l=0===l?0:l%2==1?l:l-1,a-(u=u%2==1?u-1:u)<=2&&(u=a-1);break;case exports.ViewMode.DualPage:i=o%2==0?o:o-1,l=l%2==0?l:l-1,u=u%2==1?u:u-1;break;case exports.ViewMode.SinglePage:default:i=o}return{startPage:l,endPage:u,maxVisbilityIndex:i}}),[T,b,P,p,M]),F=O.startPage,I=O.endPage,A=O.maxVisbilityIndex,D=t.useMemo((function(){for(var e=[],t=function(t){var n=T[t],r=c(c({},n),{visibility:void 0!==M[t]?M[t]:-1,measureRef:function(e){e&&(e.setAttribute(ot,"".concat(t)),k.observe(e))}});e.push(r)},n=F;n<=I;n++)t(n);return e}),[F,I,M,T]),V=t.useCallback((function(e,t){var n=y.current.measurements[Ke(0,a-1,e)],o=m.current===exports.ScrollMode.Page?rt:t;return n?S({left:o.left+n.start.left,top:o.top+n.start.top},r):Promise.resolve()}),[S,r]),N=t.useCallback((function(e,t){var n=y.current.measurements,r=n[e].start,o=n.find((function(e){return e.start.top-r.top>1e-12}));if(!o)return Promise.resolve();var a=o.index;switch(x.current){case exports.ViewMode.DualPage:a=a%2==0?a:a+1;break;case exports.ViewMode.DualPageWithCover:a=a%2==1?a:a+1}return V(a,t)}),[]),z=t.useCallback((function(e,t){for(var n=y.current.measurements,r=n[e].start,o=e,i=!1,c=a-1;c>=0;c--)if(r.top-n[c].start.top>1e-12){i=!0,o=n[c].index;break}if(!i)return Promise.resolve();switch(x.current){case exports.ViewMode.DualPage:o=o%2==0?o:o-1;break;case exports.ViewMode.DualPageWithCover:o=o%2==0?o-1:o}return o===e&&(o=e-1),V(o,t)}),[]),H=t.useCallback((function(e,t){if(x.current===exports.ViewMode.DualPageWithCover||x.current===exports.ViewMode.DualPage)return N(e,t);switch(m.current){case exports.ScrollMode.Wrapped:return N(e,t);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return V(e+1,t)}}),[]),B=t.useCallback((function(e,t){if(x.current===exports.ViewMode.DualPageWithCover||x.current===exports.ViewMode.DualPage)return z(e,t);switch(m.current){case exports.ScrollMode.Wrapped:return z(e,t);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return V(e-1,t)}}),[]),W=t.useCallback((function(){return function(e,t){switch(t){case exports.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(e.width,"px")};case exports.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(e.height,"px"),width:"100%"}}}(L,m.current)}),[L]),j=t.useCallback((function(e){return function(e,t,n){return n!==exports.ScrollMode.Page?{}:{height:"".concat(t.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}}(e,b,m.current)}),[b]),q=t.useCallback((function(e){return function(e,t,n,r,o){var a,i,c,s,l,u,p,d=t?"right":"left",f=t?-1:1,g=n.length,v=e.start.left*f,h=e.size,m=h.height,x=h.width;if(r===exports.ViewMode.DualPageWithCover){var w=o===exports.ScrollMode.Page?0:e.start.top;return 0===e.index||g%2==0&&e.index===g-1?((a={height:"".concat(m,"px"),minWidth:"".concat(Xe(n,r),"px"),width:"100%"})[d]=0,a.position="absolute",a.top=0,a.transform="translate(".concat(v,"px, ").concat(w,"px)"),a):((i={height:"".concat(m,"px"),width:"".concat(x,"px")})[d]=0,i.position="absolute",i.top=0,i.transform="translate(".concat(v,"px, ").concat(w,"px)"),i)}if(r===exports.ViewMode.DualPage)return(c={height:"".concat(m,"px"),width:"".concat(x,"px")})[d]=0,c.position="absolute",c.top=0,c.transform="translate(".concat(v,"px, ").concat(o===exports.ScrollMode.Page?0:e.start.top,"px)"),c;switch(o){case exports.ScrollMode.Horizontal:return(s={height:"100%",width:"".concat(x,"px")})[d]=0,s.position="absolute",s.top=0,s.transform="translateX(".concat(v,"px)"),s;case exports.ScrollMode.Page:return(l={height:"".concat(m,"px"),width:"".concat(x,"px")})[d]=0,l.position="absolute",l.top=0,l;case exports.ScrollMode.Wrapped:return(u={height:"".concat(m,"px"),width:"".concat(x,"px")})[d]=0,u.position="absolute",u.top=0,u.transform="translate(".concat(v,"px, ").concat(e.start.top,"px)"),u;case exports.ScrollMode.Vertical:default:return(p={height:"".concat(m,"px"),width:"100%"})[d]=0,p.position="absolute",p.top=0,p.transform="translateY(".concat(e.start.top,"px)"),p}}(e,o,l,x.current,m.current)}),[o,l]),Z=t.useCallback((function(e,t){var n=y.current,r=n.measurements,o=n.scrollOffset,i=r[Ke(0,a-1,t)];if(i){var c=m.current===exports.ScrollMode.Page?{left:i.start.left,top:i.start.top}:{left:o.left*e,top:o.top*e};return S(c,!1)}return Promise.resolve()}),[]);return t.useEffect((function(){return function(){k.disconnect()}}),[]),{boundingClientRect:b,isSmoothScrolling:g,startPage:F,endPage:I,maxVisbilityIndex:A,virtualItems:D,getContainerStyles:W,getItemContainerStyles:j,getItemStyles:q,scrollToItem:V,scrollToNextItem:H,scrollToPreviousItem:B,zoom:Z}},ct=function(e,t,n,r,o,a){var i=n;switch(!0){case o===exports.ViewMode.DualPageWithCover&&a>=3:case o===exports.ViewMode.DualPage&&a>=3:i=2*n;break;default:i=n}switch(r){case exports.SpecialZoomLevel.ActualSize:return 1;case exports.SpecialZoomLevel.PageFit:return Math.min((e.clientWidth-17)/i,(e.clientHeight-16)/t);case exports.SpecialZoomLevel.PageWidth:return(e.clientWidth-17)/i}},st=function(e){var n,r,o=e.getCurrentPage,a=(n=50,r=t.useRef([]),t.useEffect((function(){return function(){r.current=[]}}),[]),{push:function(e){var t=r.current;t.length+1>n&&t.shift(),t.push(e),r.current=t},map:function(e){return r.current.map((function(t){return e(t)}))},pop:function(){var e=r.current;if(0===e.length)return null;var t=e.pop();return r.current=e,t}}),i=function(e){var n=t.useRef([]);return t.useEffect((function(){return function(){n.current=[]}}),[]),{dequeue:function(){var e=n.current;if(0===e.length)return null;var t=e.shift();return n.current=e,t||null},enqueue:function(t){var r=n.current;r.length+1>e&&r.pop(),n.current=[t].concat(r)},map:function(e){return n.current.map((function(t){return e(t)}))}}}(50),c=function(){var e=i.dequeue();return e&&a.push(e),e&&e.pageIndex===o()?c():e},s=function(){var e=a.pop();return e&&i.enqueue(e),e&&e.pageIndex===o()?s():e},l=t.useCallback((function(e){a.push(e)}),[]);return{getNextDestination:c,getPreviousDestination:s,markVisitedDestination:l}},lt=function(e){var t=[];return e.map((function(e){t=t.concat(e).concat(function(e){var t=[];return e.items&&e.items.length>0&&(t=t.concat(lt(e.items))),t}(e))})),t},ut={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},pt={left:0,top:0};!function(e){e.CalculatePageSizes="CalculatePageSizes",e.JumpToInitialPage="JumpToInitialPage",e.RenderNextPage="RenderNextPage",e.RenderPageCompleted="RenderPageCompleted",e.Rotate="Rotate",e.RotatePage="RotatePage",e.SetCurrentPage="SetCurrentPage",e.SwitchScrollMode="SwitchScrollMode",e.SwitchViewMode="SwitchViewMode",e.Zoom="Zoom"}(qe||(qe={}));var dt,ft=function(e){var r=e.currentFile,o=e.defaultScale,a=e.doc,i=e.enableSmoothScroll,s=e.estimatedPageSizes,l=e.initialPage,u=e.initialRotation,d=e.initialScale,f=e.pageLayout,g=e.plugins,v=e.renderPage,h=e.scrollMode,m=e.setRenderRange,x=e.viewMode,w=e.viewerState,E=e.onDocumentLoad,P=e.onOpenFile,S=e.onPageChange,b=e.onRotate,_=e.onRotatePage,R=e.onZoom,M=a.numPages,C=a.loadingTask.docId,T=t.useContext(He).l10n,F=t.useContext(L),I=F.direction===exports.TextDirection.RightToLeft,A=t.useRef(),D=t.useRef(),V=st({getCurrentPage:function(){return W.current.pageIndex}}),N=t.useState(!1),z=N[0],H=N[1],B=function(e){var n=Ce(),r=t.useState([]),o=r[0],a=r[1];return t.useEffect((function(){e.getOutline().then((function(e){if(n.current&&null!==e){var t=lt(e);a(t)}}))}),[]),o}(a),W=t.useRef(w),j=t.useRef("string"==typeof o?o:null),q=t.useRef(-1),Z=t.useRef(-1),J=t.useRef(l),U=y({getCurrentPage:function(){return W.current.pageIndex},getCurrentScrollMode:function(){return W.current.scrollMode},jumpToPage:function(e){return Pe(e)},targetRef:D}),G=t.useState(-1),Y=G[0],K=G[1],X=t.useState(0),Q=X[0],te=X[1],ne=k({doc:a});t.useEffect((function(){return function(){$.clear(),ee.clear()}}),[C]);var oe=t.useMemo((function(){return Object.assign({},ut,f)}),[]),ae=t.useCallback((function(e,t){switch(t.actionType){case qe.CalculatePageSizes:return e;case qe.JumpToInitialPage:case qe.RenderNextPage:return c(c({},e),{areSizesCalculated:!0,nextAction:t,pageSizes:t.pageSizes});case qe.RenderPageCompleted:return e.areSizesCalculated?c(c({},e),{nextAction:{actionType:qe.RenderNextPage,pageSizes:e.pageSizes,renderedPageIndex:t.pageIndex}}):c(c({},e),{nextAction:{actionType:qe.CalculatePageSizes,renderedPageIndex:t.pageIndex}});case qe.Rotate:var n=t.direction===exports.RotateDirection.Backward?-90:90,r=e.rotation,o=360===r||-360===r?n:r+n;return c(c({},e),{nextAction:t,rotation:o});case qe.RotatePage:n=t.direction===exports.RotateDirection.Backward?-90:90;var a=e.pagesRotation,i=(a.has(t.pageIndex)?a.get(t.pageIndex):u)+n,s=a.set(t.pageIndex,i);return c(c({},e),{nextAction:c(c({},t),{finalRotation:i}),pagesRotation:s});case qe.SetCurrentPage:return c(c({},e),{currentPage:t.pageIndex,nextAction:t});case qe.SwitchScrollMode:return e.scrollMode===t.newScrollMode?e:c(c({},e),{nextAction:t,scrollMode:t.newScrollMode});case qe.SwitchViewMode:return e.viewMode===t.newViewMode?e:c(c({},e),{nextAction:t,viewMode:t.newViewMode});case qe.Zoom:var l=D.current,p=t.newScale,d=W.current.pageIndex;if(d<0||d>=M)return e;var f=e.pageSizes[d].pageHeight,g=e.pageSizes[d].pageWidth,v=l?"string"==typeof p?ct(l,f,g,p,W.current.viewMode,M):p:1;return j.current="string"==typeof p?p:null,v===W.current.scale?e:c(c({},e),{nextAction:t,scale:v});default:return e}}),[]),ie=t.useReducer(ae,{areSizesCalculated:!1,currentPage:0,pagesRotation:new Map,pageSizes:s,rotation:u,scale:d,scrollMode:h,viewMode:x}),ce=ie[0],se=ie[1];n((function(){if(ce.nextAction)switch(ce.nextAction.actionType){case qe.CalculatePageSizes:le(ce.nextAction.renderedPageIndex);break;case qe.JumpToInitialPage:Pe(l);break;case qe.RenderNextPage:ne.markRendered(ce.nextAction.renderedPageIndex),Ae();break;case qe.Rotate:var e=ce.nextAction.direction;ne.markNotRendered(),ge(c(c({},W.current),{rotation:ce.rotation})),b({direction:e,doc:a,rotation:ce.rotation}),(o=W.current.pageIndex)>-1&&de.scrollToItem(o,pt);break;case qe.RotatePage:var t=ce.nextAction.pageIndex;H((function(e){return!e})),ge(c(c({},W.current),{pagesRotation:ce.pagesRotation,rotatedPage:t})),_({direction:ce.nextAction.direction,doc:a,pageIndex:t,rotation:ce.nextAction.finalRotation}),ne.markRendering(t),K(t);break;case qe.SetCurrentPage:var n=W.current.pageIndex,r=ce.currentPage;ge(c(c({},W.current),{pageIndex:r})),r===n||de.isSmoothScrolling||S({currentPage:r,doc:a}),ne.setRange(ce.nextAction.startPage,ce.nextAction.endPage),Ae();break;case qe.SwitchScrollMode:ge(c(c({},W.current),{scrollMode:ce.nextAction.newScrollMode})),(o=W.current.pageIndex)>-1&&de.scrollToItem(o,pt).then((function(){U.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(i||ne.markNotRendered(),q.current=-1)}));break;case qe.SwitchViewMode:var o;ne.markNotRendered(),ge(c(c({},W.current),{viewMode:ce.nextAction.newViewMode})),(o=W.current.pageIndex)>-1&&de.scrollToItem(o,pt);break;case qe.Zoom:te((function(e){return e+1})),ne.markNotRendered();var s=W.current.scale;ge(c(c({},W.current),{scale:ce.scale})),R({doc:a,scale:ce.scale}),de.zoom(ce.scale/s,W.current.pageIndex).then((function(){U.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(Z.current=-1),Ae()}))}}),[ce.nextAction]);var le=function(e){var t=Array(a.numPages).fill(0).map((function(e,t){return new Promise((function(e){re(a,t).then((function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})}))}))}));Promise.all(t).then((function(t){se(0===l?{actionType:qe.RenderNextPage,renderedPageIndex:e,pageSizes:t}:{actionType:qe.JumpToInitialPage,pageSizes:t})}))},ue=t.useMemo((function(){return Array(M).fill(0).map((function(e,t){var n=ce.pageSizes[t].pageHeight,r=ce.pageSizes[t].pageWidth,o=Math.abs(ce.rotation)%180==0?{height:n,width:r}:{height:r,width:n},a={height:o.height*ce.scale,width:o.width*ce.scale};return oe.transformSize({numPages:M,pageIndex:t,size:a})}))}),[ce.rotation,ce.scale,ce.pageSizes]),pe=t.useCallback((function(e,t){ne.setVisibility(e,t)}),[]),de=it({enableSmoothScroll:i,isRtl:I,numberOfItems:M,parentRef:D,scrollMode:ce.scrollMode,setRenderRange:m,sizes:ue,viewMode:ce.viewMode,onVisibilityChanged:pe}),fe=p((function(){!j.current||W.current.fullScreenMode!==exports.FullScreenMode.Normal||l>0&&J.current===l||ke(j.current)}),200);!function(e){var t=e.targetRef,r=e.onResize;n((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){r(e.target)}))})),n=t.current;if(n)return e.observe(n),function(){e.unobserve(n)}}),[])}({targetRef:D,onResize:fe});var ge=function(e){var t=e;g.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),W.current=t},ve=function(){return D.current},he=function(){return W.current},me=t.useCallback((function(e){return V.markVisitedDestination(e),Fe(e)}),[]),xe=t.useCallback((function(){var e=V.getNextDestination();return e?Fe(e):Promise.resolve()}),[]),we=t.useCallback((function(){var e=V.getPreviousDestination();return e?Fe(e):Promise.resolve()}),[]),Ee=t.useCallback((function(){return de.scrollToNextItem(W.current.pageIndex,pt)}),[]),Pe=t.useCallback((function(e){return 0<=e&&e<M?new Promise((function(t){de.scrollToItem(e,pt).then((function(){K(e),t()}))})):Promise.resolve()}),[]),Se=t.useCallback((function(){return de.scrollToPreviousItem(W.current.pageIndex,pt)}),[]),be=t.useCallback((function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){P(e.name,t)}))}),[P]),ye=t.useCallback((function(e){se({actionType:qe.Rotate,direction:e})}),[]),_e=t.useCallback((function(e,t){se({actionType:qe.RotatePage,direction:t,finalRotation:0,pageIndex:e})}),[]),Re=t.useCallback((function(e){se({actionType:qe.SwitchScrollMode,newScrollMode:e})}),[]),Me=t.useCallback((function(e){se({actionType:qe.SwitchViewMode,newViewMode:e})}),[]),ke=t.useCallback((function(e){se({actionType:qe.Zoom,newScale:e})}),[]),Te=t.useCallback((function(e){U.enterFullScreenMode(e)}),[]),Le=t.useCallback((function(){U.exitFullScreenMode()}),[]);t.useEffect((function(){ge(c(c({},W.current),{fullScreenMode:U.fullScreenMode}))}),[U.fullScreenMode]);var Oe=t.useCallback((function(e){V.markVisitedDestination(e)}),[]),Fe=t.useCallback((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.leftOffset,o=e.scaleTo,i=D.current,c=W.current;return i&&c?new Promise((function(e,s){re(a,t).then((function(a){var s=a.getViewport({scale:1}),l=0,u=("function"==typeof n?n(s.width,s.height):n)||0,p=("function"==typeof r?r(s.width,s.height):r)||0,d=c.scale;switch(o){case exports.SpecialZoomLevel.PageFit:l=0,p=0,ke(exports.SpecialZoomLevel.PageFit);break;case exports.SpecialZoomLevel.PageWidth:d=ct(i,ce.pageSizes[t].pageHeight,ce.pageSizes[t].pageWidth,exports.SpecialZoomLevel.PageWidth,x,M),l=(s.height-u)*d,p*=d,ke(d);break;default:l=(s.height-u)*d,p*=d}switch(c.scrollMode){case exports.ScrollMode.Horizontal:de.scrollToItem(t,{left:p,top:0}).then((function(){e()}));break;case exports.ScrollMode.Vertical:default:de.scrollToItem(t,{left:0,top:l}).then((function(){e()}))}}))})):Promise.resolve()}),[]);t.useEffect((function(){var e={enterFullScreenMode:Te,exitFullScreenMode:Le,getPagesContainer:ve,getViewerState:he,jumpToDestination:me,jumpToNextDestination:xe,jumpToPreviousDestination:we,jumpToNextPage:Ee,jumpToPreviousPage:Se,jumpToPage:Pe,openFile:be,rotate:ye,rotatePage:_e,setViewerState:ge,switchScrollMode:Re,switchViewMode:Me,zoom:ke};return g.forEach((function(t){t.install&&t.install(e)})),function(){g.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[C]),t.useEffect((function(){E({doc:a,file:r}),g.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:a,file:r})}))}),[C]),n((function(){var e=W.current.pageIndex;e>0&&e===l&&J.current===l&&j.current&&(J.current=-1,ke(j.current))}),[ce.currentPage]),t.useEffect((function(){U.fullScreenMode===exports.FullScreenMode.Entering&&W.current.scrollMode===exports.ScrollMode.Page&&(q.current=W.current.pageIndex),U.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&W.current.scrollMode===exports.ScrollMode.Page&&i&&(q.current=-1),U.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&j.current&&(Z.current=W.current.pageIndex,ke(j.current))}),[U.fullScreenMode]);var Ie=t.useCallback((function(e){se({actionType:qe.RenderPageCompleted,pageIndex:e})}),[Q]),Ae=function(){var e=ne.getHighestPriorityPage();e>-1&&ne.isInRange(e)&&(ne.markRendering(e),K(e))},De=function(e){var t=ce.currentPage-1,n=ce.currentPage+1;switch(e){case"FirstPage":Pe(0);break;case"LastPage":Pe(M-1);break;case"NextPage":n<M&&Pe(n);break;case"PrevPage":t>=0&&Pe(t)}};t.useEffect((function(){if(U.fullScreenMode!==exports.FullScreenMode.Entering&&U.fullScreenMode!==exports.FullScreenMode.Exitting&&!de.isSmoothScrolling){var e=de.startPage,t=de.endPage,n=de.maxVisbilityIndex,r=U.fullScreenMode===exports.FullScreenMode.Entered||U.fullScreenMode===exports.FullScreenMode.EnteredCompletely;r&&n!==q.current&&q.current>-1||r&&n!==Z.current&&Z.current>-1||se({actionType:qe.SetCurrentPage,endPage:t,pageIndex:n,startPage:e})}}),[de.startPage,de.endPage,de.isSmoothScrolling,de.maxVisbilityIndex,U.fullScreenMode,z,ce.rotation,ce.scale]),n((function(){ne.markRendering(0),K(0)}),[]);var Ve=t.useCallback((function(){var e=de.virtualItems,n=[];switch(ce.viewMode){case exports.ViewMode.DualPage:n=We(e,2);break;case exports.ViewMode.DualPageWithCover:e.length&&(n=0===e[0].index?[[e[0]]].concat(We(e.slice(1),2)):We(e,2));break;case exports.ViewMode.SinglePage:default:n=We(e,1)}var r=T&&T.core?T.core.pageLabel:"Page {{pageIndex}}",o={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:A,style:{height:"100%"}},children:t.createElement(t.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:O({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ce.scrollMode===exports.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":I,"rpv-core__inner-pages--single":ce.scrollMode===exports.ScrollMode.Page,"rpv-core__inner-pages--vertical":ce.scrollMode===exports.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":ce.scrollMode===exports.ScrollMode.Wrapped}),ref:D,style:{height:"100%",position:"relative"}},children:t.createElement("div",{"data-testid":"core__inner-current-page-".concat(ce.currentPage),style:Object.assign({"--scale-factor":ce.scale},de.getContainerStyles())},n.map((function(e){return t.createElement("div",{className:O({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ce.scrollMode===exports.ScrollMode.Page}),style:de.getItemContainerStyles(e[0]),key:"".concat(e[0].index,"-").concat(ce.viewMode)},e.map((function(e){var n=ce.viewMode===exports.ViewMode.DualPageWithCover&&(0===e.index||M%2==0&&e.index===M-1);return t.createElement("div",{"aria-label":r.replace("{{pageIndex}}","".concat(e.index+1)),className:O({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ce.viewMode===exports.ViewMode.DualPage&&e.index%2==0,"rpv-core__inner-page--dual-odd":ce.viewMode===exports.ViewMode.DualPage&&e.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":ce.viewMode===exports.ViewMode.DualPageWithCover&&!n&&e.index%2==0,"rpv-core__inner-page--dual-cover-odd":ce.viewMode===exports.ViewMode.DualPageWithCover&&!n&&e.index%2==1,"rpv-core__inner-page--single":ce.viewMode===exports.ViewMode.SinglePage&&ce.scrollMode===exports.ScrollMode.Page}),role:"region",key:"".concat(e.index,"-").concat(ce.viewMode),style:Object.assign({},de.getItemStyles(e),oe.buildPageStyles({numPages:M,pageIndex:e.index,scrollMode:ce.scrollMode,viewMode:ce.viewMode}))},t.createElement(Ne,{doc:a,measureRef:e.measureRef,outlines:B,pageIndex:e.index,pageRotation:ce.pagesRotation.has(e.index)?ce.pagesRotation.get(e.index):0,pageSize:ce.pageSizes[e.index],plugins:g,renderPage:v,renderQueueKey:Q,rotation:ce.rotation,scale:ce.scale,shouldRender:Y===e.index,viewMode:ce.viewMode,onExecuteNamedAction:De,onJumpFromLinkAnnotation:Oe,onJumpToDest:me,onRenderCompleted:Ie,onRotatePage:_e}))})))})))}};return g.forEach((function(e){e.renderViewer&&(o=e.renderViewer({containerRef:A,doc:a,pagesContainerRef:D,pagesRotation:ce.pagesRotation,pageSizes:ce.pageSizes,rotation:ce.rotation,slot:o,themeContext:F,jumpToPage:Pe,openFile:be,rotate:ye,rotatePage:_e,switchScrollMode:Re,switchViewMode:Me,zoom:ke}))})),o}),[g,de]),ze=t.useCallback((function(e){return t.createElement("div",c({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&ze(e.subSlot))}),[]);return ze(Ve())},gt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],vt=function(e){var n=e.defaultScale,r=e.doc,o=e.render,a=e.scrollMode,i=e.viewMode,c=t.useRef(),s=t.useState({estimatedPageSizes:[],scale:0}),l=s[0],u=s[1];return t.useLayoutEffect((function(){re(r,0).then((function(e){var t=e.getViewport({scale:1}),o=c.current;if(o){var s=t.width,l=t.height,p=o.parentElement,d=(p.clientWidth-45)/s,f=(p.clientHeight-45)/l,g=d;switch(a){case exports.ScrollMode.Horizontal:g=Math.min(d,f);break;case exports.ScrollMode.Vertical:default:g=d}var v,h,m=n?"string"==typeof n?ct(p,l,s,n,i,r.numPages):n:(v=g,-1===(h=gt.findIndex((function(e){return e>=v})))||0===h?v:gt[h-1]),x=Array(r.numPages).fill(0).map((function(e){return{pageHeight:t.height,pageWidth:t.width,rotation:t.rotation}}));u({estimatedPageSizes:x,scale:m})}}))}),[r.loadingTask.docId]),0===l.estimatedPageSizes.length||0===l.scale?t.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:c},t.createElement(Le,null)):o(l.estimatedPageSizes,l.scale)};exports.PasswordStatus=void 0,(dt=exports.PasswordStatus||(exports.PasswordStatus={})).RequiredPassword="RequiredPassword",dt.WrongPassword="WrongPassword";var ht,mt=function(){},xt=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.passwordStatus=n,r}return i(t,e),t}(mt),wt=function(e){var n=e.children,r=e.testId,o=e.onClick,a=t.useContext(L).direction===exports.TextDirection.RightToLeft,i=r?{"data-testid":r}:{};return t.createElement("button",c({className:O({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a}),type:"button",onClick:o},i),n)},Et=function(e){var r=e.ariaLabel,o=void 0===r?"":r,a=e.autoFocus,i=void 0!==a&&a,s=e.placeholder,l=void 0===s?"":s,u=e.testId,p=e.type,d=void 0===p?"text":p,f=e.value,g=void 0===f?"":f,v=e.onChange,h=e.onKeyDown,m=void 0===h?function(){}:h,x=t.useContext(L).direction,w=t.useRef(),E=x===exports.TextDirection.RightToLeft,P={ref:w,"data-testid":"","aria-label":o,className:O({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":E}),placeholder:l,value:g,onChange:function(e){return v(e.target.value)},onKeyDown:m};return u&&(P["data-testid"]=u),n((function(){if(i){var e=w.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}}),[]),"text"===d?t.createElement("input",c({type:"text"},P)):t.createElement("input",c({type:"password"},P))},Pt=function(e){var n=e.passwordStatus,r=e.renderProtectedView,o=e.verifyPassword,a=e.onDocumentAskPassword,i=t.useContext(He).l10n,c=t.useState(""),s=c[0],l=c[1],u=t.useContext(L).direction===exports.TextDirection.RightToLeft,p=function(){return o(s)};return t.useEffect((function(){a&&a({verifyPassword:o})}),[]),r?r({passwordStatus:n,verifyPassword:o}):t.createElement("div",{className:"rpv-core__asking-password-wrapper"},t.createElement("div",{className:O({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":u})},t.createElement("div",{className:"rpv-core__asking-password-message"},n===exports.PasswordStatus.RequiredPassword&&i.core.askingPassword.requirePasswordToOpen,n===exports.PasswordStatus.WrongPassword&&i.core.wrongPassword.tryAgain),t.createElement("div",{className:"rpv-core__asking-password-body"},t.createElement("div",{className:O({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!u,"rpv-core__asking-password-input--rtl":u})},t.createElement(Et,{testId:"core__asking-password-input",type:"password",value:s,onChange:l,onKeyDown:function(e){"Enter"===e.key&&p()}})),t.createElement(wt,{onClick:p},i.core.askingPassword.submit))))},St=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return i(t,e),t}(mt),bt=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return i(t,e),t}(mt),yt=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return i(t,e),t}(mt),_t=function(e){var n=e.characterMap,r=e.file,o=e.httpHeaders,a=e.render,i=e.renderError,c=e.renderLoader,s=e.renderProtectedView,l=e.transformGetDocumentParams,u=e.withCredentials,p=e.onDocumentAskPassword,d=t.useContext(Ae).pdfJsApiProvider,f=t.useContext(L).direction===exports.TextDirection.RightToLeft,g=t.useState(new yt(0)),v=g[0],h=g[1],m=t.useRef(""),x=Ce();return t.useEffect((function(){m.current="",h(new yt(0));var e=new d.PDFWorker({name:"PDFWorker_".concat(Date.now())}),t=Object.assign({httpHeaders:o,withCredentials:u,worker:e},"string"==typeof r?{url:r}:{data:r},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),a=l?l(t):t,i=d.getDocument(a);return i.onPassword=function(e,t){switch(t){case d.PasswordResponses.NEED_PASSWORD:x.current&&h(new xt(e,exports.PasswordStatus.RequiredPassword));break;case d.PasswordResponses.INCORRECT_PASSWORD:x.current&&h(new xt(e,exports.PasswordStatus.WrongPassword))}},i.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;x.current&&""===m.current&&h(new yt(t))},i.promise.then((function(e){m.current=e.loadingTask.docId,x.current&&h(new St(e))}),(function(t){return x.current&&!e.destroyed&&h(new bt({message:t.message||"Cannot load document",name:t.name}))})),function(){i.destroy(),e.destroy()}}),[r]),v instanceof xt?t.createElement(Pt,{passwordStatus:v.passwordStatus,renderProtectedView:s,verifyPassword:v.verifyPassword,onDocumentAskPassword:p}):v instanceof St?a(v.doc):v instanceof bt?i?i(v.error):t.createElement("div",{className:O({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":f})},t.createElement("div",{className:"rpv-core__doc-error-text"},v.error.message)):t.createElement("div",{"data-testid":"core__doc-loading",className:O({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":f})},c?c(v.percentages):t.createElement(Le,null))},Rt=function(e,n){var r=t.useMemo((function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}),[]),a=t.useState(r),i=a[0],c=a[1],s=o(i);return t.useEffect((function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){c(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}}),[]),t.useEffect((function(){i!==s&&n&&n(i)}),[i]),t.useEffect((function(){e!==i&&c(e)}),[e]),{currentTheme:i,setCurrentTheme:c}},Mt=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}},Ct=0,kt=function(){return Ct++},Tt=function(e,n,r){var o=function(e){var t=n.current;if(t){var o=e.target;if(o instanceof Element&&o.shadowRoot){var a=e.composedPath();a.length>0&&!t.contains(a[0])&&r()}else t.contains(o)||r()}};t.useEffect((function(){if(e){var t={capture:!0};return document.addEventListener("click",o,t),function(){document.removeEventListener("click",o,t)}}}),[])},Lt=function(e){var n=function(t){"Escape"===t.key&&e()};t.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},Ot=function(e){var r=e.ariaControlsSuffix,o=e.children,a=e.closeOnClickOutside,i=e.closeOnEscape,c=e.onToggle,s=t.useRef(),l=t.useContext(L).direction===exports.TextDirection.RightToLeft;return t.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),Lt((function(){s.current&&i&&c()})),Tt(a,s,c),n((function(){var e=s.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]),t.createElement("div",{"aria-modal":"true",className:O({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":l}),id:"rpv-core__modal-body-".concat(r),ref:s,role:"dialog",tabIndex:-1},o)},Ft=function(e){var n=e.children;return t.createElement("div",{className:"rpv-core__modal-overlay"},n)},It=function(e){var n=e.content,r=e.isOpened,o=void 0!==r&&r,a=e.target,i=z(o),c=i.opened,s=i.toggle;return t.createElement(t.Fragment,null,a&&a(s,c),c&&n(s))};exports.Position=void 0,(ht=exports.Position||(exports.Position={})).TopLeft="TOP_LEFT",ht.TopCenter="TOP_CENTER",ht.TopRight="TOP_RIGHT",ht.RightTop="RIGHT_TOP",ht.RightCenter="RIGHT_CENTER",ht.RightBottom="RIGHT_BOTTOM",ht.BottomLeft="BOTTOM_LEFT",ht.BottomCenter="BOTTOM_CENTER",ht.BottomRight="BOTTOM_RIGHT",ht.LeftTop="LEFT_TOP",ht.LeftCenter="LEFT_CENTER",ht.LeftBottom="LEFT_BOTTOM";var At,Dt=function(e,t,r,o,a){n((function(){var n=t.current,i=e.current,c=r.current;if(i&&n&&c){var s=c.getBoundingClientRect(),l=function(e,t,n,r){var o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=a.height,c=a.width,s=0,l=0;switch(n){case exports.Position.TopLeft:s=o.top-i,l=o.left;break;case exports.Position.TopCenter:s=o.top-i,l=o.left+o.width/2-c/2;break;case exports.Position.TopRight:s=o.top-i,l=o.left+o.width-c;break;case exports.Position.RightTop:s=o.top,l=o.left+o.width;break;case exports.Position.RightCenter:s=o.top+o.height/2-i/2,l=o.left+o.width;break;case exports.Position.RightBottom:s=o.top+o.height-i,l=o.left+o.width;break;case exports.Position.BottomLeft:s=o.top+o.height,l=o.left;break;case exports.Position.BottomCenter:s=o.top+o.height,l=o.left+o.width/2-c/2;break;case exports.Position.BottomRight:s=o.top+o.height,l=o.left+o.width-c;break;case exports.Position.LeftTop:s=o.top,l=o.left-c;break;case exports.Position.LeftCenter:s=o.top+o.height/2-i/2,l=o.left-c;break;case exports.Position.LeftBottom:s=o.top+o.height-i,l=o.left-c}return{left:l+(r.left||0),top:s+(r.top||0)}}(i,n,o,a),u=l.top,p=l.left;i.style.top="".concat(u-s.top,"px"),i.style.left="".concat(p-s.left,"px")}}),[])},Vt=function(e){var n,r=e.customClassName,o=e.position;return t.createElement("div",{className:O((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":o===exports.Position.TopLeft,"rpv-core__arrow--tc":o===exports.Position.TopCenter,"rpv-core__arrow--tr":o===exports.Position.TopRight,"rpv-core__arrow--rt":o===exports.Position.RightTop,"rpv-core__arrow--rc":o===exports.Position.RightCenter,"rpv-core__arrow--rb":o===exports.Position.RightBottom,"rpv-core__arrow--bl":o===exports.Position.BottomLeft,"rpv-core__arrow--bc":o===exports.Position.BottomCenter,"rpv-core__arrow--br":o===exports.Position.BottomRight,"rpv-core__arrow--lt":o===exports.Position.LeftTop,"rpv-core__arrow--lc":o===exports.Position.LeftCenter,"rpv-core__arrow--lb":o===exports.Position.LeftBottom},n["".concat(r)]=""!==r,n))})},Nt=function(e){var r=e.ariaControlsSuffix,o=e.children,a=e.closeOnClickOutside,i=e.offset,c=e.position,s=e.targetRef,l=e.onClose,u=t.useRef(),p=t.useRef(),d=t.useRef(),f=t.useContext(L).direction===exports.TextDirection.RightToLeft;Tt(a,u,l),Dt(u,s,d,c,i),n((function(){var e=p.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]);var g="rpv-core__popover-body-inner-".concat(r);return t.createElement(t.Fragment,null,t.createElement("div",{ref:d,style:{left:0,position:"absolute",top:0}}),t.createElement("div",{"aria-describedby":g,className:O({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":f}),id:"rpv-core__popover-body-".concat(r),ref:u,role:"dialog",tabIndex:-1},t.createElement(Vt,{customClassName:"rpv-core__popover-body-arrow",position:c}),t.createElement("div",{id:g,ref:p},o)))},zt=function(e){var n=e.closeOnEscape,r=e.onClose,o=t.useRef();return Lt((function(){o.current&&n&&r()})),t.createElement("div",{className:"rpv-core__popover-overlay",ref:o})},Ht=function(e){var n=e.ariaControlsSuffix,r=e.children,o=e.contentRef,a=e.offset,i=e.position,c=e.targetRef,s=t.useRef(),l=t.useContext(L).direction===exports.TextDirection.RightToLeft;return Dt(o,c,s,i,a),t.createElement(t.Fragment,null,t.createElement("div",{ref:s,style:{left:0,position:"absolute",top:0}}),t.createElement("div",{className:O({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":l}),id:"rpv-core__tooltip-body-".concat(n),ref:o,role:"tooltip"},t.createElement(Vt,{customClassName:"rpv-core__tooltip-body-arrow",position:i}),t.createElement("div",{className:"rpv-core__tooltip-body-content"},r)))};exports.PageMode=void 0,(At=exports.PageMode||(exports.PageMode={})).Attachments="UseAttachments",At.Bookmarks="UseOutlines",At.ContentGroup="UseOC",At.Default="UserNone",At.FullScreen="FullScreen",At.Thumbnails="UseThumbs";exports.Button=function(e){var n=e.children,r=e.testId,o=e.onClick,a=t.useContext(L).direction===exports.TextDirection.RightToLeft,i=r?{"data-testid":r}:{};return t.createElement("button",c({className:O({"rpv-core__button":!0,"rpv-core__button--rtl":a}),type:"button",onClick:o},i),n)},exports.Icon=me,exports.LazyRender=function(e){var n=e.attrs,o=e.children,a=e.testId,i=t.useState(!1),s=i[0],l=i[1],u=a?c(c({},n),{"data-testid":a}):n,p=r({once:!0,onVisibilityChanged:function(e){e.isVisible&&l(!0)}});return t.createElement("div",c({ref:p},u),s&&o)},exports.LocalizationContext=He,exports.Menu=function(e){var r=e.children,o=t.useRef(),a=t.useRef([]),i=t.useContext(L).direction===exports.TextDirection.RightToLeft,c=function(e){if(o.current)switch(e.key){case"Tab":e.preventDefault();break;case"ArrowDown":e.preventDefault(),s((function(e,t){return t+1}));break;case"ArrowUp":e.preventDefault(),s((function(e,t){return t-1}));break;case"End":e.preventDefault(),s((function(e,t){return e.length-1}));break;case"Home":e.preventDefault(),s((function(e,t){return 0}))}},s=function(e){if(o.current){var t=a.current,n=t.findIndex((function(e){return"0"===e.getAttribute("tabindex")})),r=Math.min(t.length-1,Math.max(0,e(t,n)));n>=0&&n<=t.length-1&&t[n].setAttribute("tabindex","-1"),t[r].setAttribute("tabindex","0"),t[r].focus()}};return n((function(){var e=o.current;if(e){var t=function(e){var t=[];return e.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(n){if(n instanceof HTMLElement){var r=n.parentElement;(r===e||"none"!==window.getComputedStyle(r).display)&&t.push(n)}})),t}(e);a.current=t}}),[]),n((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[]),t.createElement("div",{ref:o,"aria-orientation":"vertical",className:O({"rpv-core__menu":!0,"rpv-core__menu--rtl":i}),role:"menu",tabIndex:0},r)},exports.MenuDivider=function(){return t.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},exports.MenuItem=function(e){var n=e.checked,r=void 0!==n&&n,o=e.children,a=e.icon,i=void 0===a?null:a,s=e.isDisabled,l=void 0!==s&&s,u=e.testId,p=e.onClick,d=t.useContext(L).direction===exports.TextDirection.RightToLeft,f=u?{"data-testid":u}:{};return t.createElement("button",c({className:O({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":l,"rpv-core__menu-item--ltr":!d,"rpv-core__menu-item--rtl":d}),role:"menuitem",tabIndex:-1,type:"button",onClick:p},f),t.createElement("div",{className:O({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!d,"rpv-core__menu-item-icon--rtl":d})},i),t.createElement("div",{className:O({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!d,"rpv-core__menu-item-label--rtl":d})},o),t.createElement("div",{className:O({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!d,"rpv-core__menu-item-check--rtl":d})},r&&t.createElement(xe,null)))},exports.MinimalButton=function(e){var n=e.ariaLabel,r=void 0===n?"":n,o=e.ariaKeyShortcuts,a=void 0===o?"":o,i=e.children,s=e.isDisabled,l=void 0!==s&&s,u=e.isSelected,p=void 0!==u&&u,d=e.testId,f=e.onClick,g=t.useContext(L).direction===exports.TextDirection.RightToLeft,v=d?{"data-testid":d}:{};return t.createElement("button",c({"aria-label":r},a&&{"aria-keyshortcuts":a},l&&{"aria-disabled":!0},{className:O({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":l,"rpv-core__minimal-button--rtl":g,"rpv-core__minimal-button--selected":p}),type:"button",onClick:f},v),i)},exports.Modal=function(e){var n=e.ariaControlsSuffix,r=e.closeOnClickOutside,o=e.closeOnEscape,a=e.content,i=e.isOpened,c=void 0!==i&&i,s=e.target,l=n||"".concat(kt());return t.createElement(It,{target:s?function(e,n){return t.createElement("div",{"aria-expanded":n?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(l)},s(e,n))}:null,content:function(e){return t.createElement(Ft,null,t.createElement(Ot,{ariaControlsSuffix:l,closeOnClickOutside:r,closeOnEscape:o,onToggle:e},a(e)))},isOpened:c})},exports.PdfJsApiContext=Ae,exports.Popover=function(e){var n=e.ariaHasPopup,r=void 0===n?"dialog":n,o=e.ariaControlsSuffix,a=e.closeOnClickOutside,i=e.closeOnEscape,c=e.content,s=e.lockScroll,l=void 0===s||s,u=e.offset,p=e.position,d=e.target,f=z(!1),g=f.opened,v=f.toggle,h=t.useRef(),m=t.useMemo((function(){return o||"".concat(kt())}),[]);return t.createElement("div",{ref:h,"aria-expanded":g?"true":"false","aria-haspopup":r,"aria-controls":"rpv-core__popver-body-".concat(m)},d(v,g),g&&t.createElement(t.Fragment,null,l&&t.createElement(zt,{closeOnEscape:i,onClose:v}),t.createElement(Nt,{ariaControlsSuffix:m,closeOnClickOutside:a,offset:u,position:p,targetRef:h,onClose:v},c(v))))},exports.PrimaryButton=wt,exports.ProgressBar=function(e){var n=e.progress,r=t.useContext(L).direction===exports.TextDirection.RightToLeft;return t.createElement("div",{className:O({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":r})},t.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(n,"%")}},n,"%"))},exports.Separator=function(){return t.createElement("div",{className:"rpv-core__separator"})},exports.Spinner=Le,exports.Splitter=function(e){var n=e.constrain,r=t.useContext(L).direction===exports.TextDirection.RightToLeft,o=t.useRef(),a=t.useRef(),i=t.useRef(),c=t.useRef(0),s=t.useRef(0),l=t.useRef(0),u=t.useRef(0),p={capture:!0},d=function(e){var t=o.current,s=a.current,p=i.current;if(t&&s&&p){var d=u.current,f=e.clientX-c.current,g=l.current+(r?-f:f),v=t.parentElement.getBoundingClientRect().width,h=100*g/v;if(t.classList.add("rpv-core__splitter--resizing"),n){var m=v-g-d;if(!n({firstHalfPercentage:h,firstHalfSize:g,secondHalfPercentage:100*m/v,secondHalfSize:m}))return}s.style.width="".concat(h,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),s.classList.add("rpv-core__splitter-sibling--resizing"),p.classList.add("rpv-core__splitter-sibling--resizing")}},f=function(e){var t=o.current,n=a.current,r=i.current;t&&n&&r&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),t.classList.remove("rpv-core__splitter--resizing"),n.classList.remove("rpv-core__splitter-sibling--resizing"),r.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",d,p),document.removeEventListener("mouseup",f,p))};return t.useEffect((function(){var e=o.current;e&&(u.current=e.getBoundingClientRect().width,a.current=e.previousElementSibling,i.current=e.nextElementSibling)}),[]),t.createElement("div",{ref:o,className:"rpv-core__splitter",onMouseDown:function(e){var t=a.current;t&&(c.current=e.clientX,s.current=e.clientY,l.current=t.getBoundingClientRect().width,document.addEventListener("mousemove",d,p),document.addEventListener("mouseup",f,p))}})},exports.TextBox=Et,exports.ThemeContext=L,exports.Tooltip=function(e){var n=e.ariaControlsSuffix,r=e.content,o=e.offset,a=e.position,i=e.target,c=z(!1),s=c.opened,l=c.toggle,u=t.useRef(),p=t.useRef(),d=t.useMemo((function(){return n||"".concat(kt())}),[]);Lt((function(){u.current&&document.activeElement&&u.current.contains(document.activeElement)&&g()}));var f=function(){l(exports.ToggleStatus.Open)},g=function(){l(exports.ToggleStatus.Close)};return t.createElement(t.Fragment,null,t.createElement("div",{ref:u,"aria-describedby":"rpv-core__tooltip-body-".concat(d),onBlur:function(e){e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?p.current&&(p.current.style.display="none"):g()},onFocus:f,onMouseEnter:f,onMouseLeave:g},i),s&&t.createElement(Ht,{ariaControlsSuffix:d,contentRef:p,offset:o,position:a,targetRef:u},r()))},exports.Viewer=function(e){var n=e.characterMap,a=e.defaultScale,i=e.enableSmoothScroll,c=void 0===i||i,s=e.fileUrl,l=e.httpHeaders,u=void 0===l?{}:l,p=e.initialPage,d=void 0===p?0:p,f=e.pageLayout,g=e.initialRotation,v=void 0===g?0:g,h=e.localization,m=e.plugins,x=void 0===m?[]:m,w=e.renderError,E=e.renderLoader,P=e.renderPage,S=e.renderProtectedView,b=e.scrollMode,y=void 0===b?exports.ScrollMode.Vertical:b,_=e.setRenderRange,R=void 0===_?Mt:_,M=e.transformGetDocumentParams,C=e.theme,k=void 0===C?{direction:exports.TextDirection.LeftToRight,theme:"light"}:C,T=e.viewMode,O=void 0===T?exports.ViewMode.SinglePage:T,F=e.withCredentials,I=void 0!==F&&F,A=e.onDocumentAskPassword,D=e.onDocumentLoad,V=void 0===D?function(){}:D,N=e.onPageChange,z=void 0===N?function(){}:N,H=e.onRotate,B=void 0===H?function(){}:H,W=e.onRotatePage,j=void 0===W?function(){}:W,q=e.onSwitchTheme,Z=void 0===q?function(){}:q,J=e.onZoom,U=void 0===J?function(){}:J,G=t.useState({data:s,name:"string"==typeof s?s:"",shouldLoad:!1}),Y=G[0],K=G[1],X=function(e,t){K({data:t,name:e,shouldLoad:!0})},Q=t.useState(!1),$=Q[0],ee=Q[1],te=o(Y);t.useEffect((function(){var e,t,n,r;e=te.data,r=typeof(t=s),"string"===(n=typeof e)&&"string"===r&&e===t||"object"===n&&"object"===r&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))||K({data:s,name:"string"==typeof s?s:"",shouldLoad:$})}),[s,$]);var ne=r({onVisibilityChanged:function(e){ee(e.isVisible),e.isVisible&&K((function(e){return Object.assign({},e,{shouldLoad:!0})}))}}),re="string"==typeof k?{direction:exports.TextDirection.LeftToRight,theme:k}:k,oe=t.useState(h||ze),ae=oe[0],ie=oe[1],ce={l10n:ae,setL10n:ie},se=Object.assign({},{direction:re.direction},Rt(re.theme||"light",Z));return t.useEffect((function(){h&&ie(h)}),[h]),t.createElement(He.Provider,{value:ce},t.createElement(L.Provider,{value:se},t.createElement("div",{ref:ne,className:"rpv-core__viewer rpv-core__viewer--".concat(se.currentTheme),"data-testid":"core__viewer",style:{height:"40%",width:"50%",backgroundColor:"red"}},Y.shouldLoad&&t.createElement(_t,{characterMap:n,file:Y.data,httpHeaders:u,render:function(e){return t.createElement(vt,{defaultScale:a,doc:e,render:function(n,r){return t.createElement(ft,{currentFile:{data:Y.data,name:Y.name},defaultScale:a,doc:e,enableSmoothScroll:c,estimatedPageSizes:n,initialPage:d,initialRotation:v,initialScale:r,pageLayout:f,plugins:x,renderPage:P,scrollMode:y,setRenderRange:R,viewMode:O,viewerState:{file:Y,fullScreenMode:exports.FullScreenMode.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:v,scale:r,scrollMode:y,viewMode:O},onDocumentLoad:V,onOpenFile:X,onPageChange:z,onRotate:B,onRotatePage:j,onZoom:U})},scrollMode:y,viewMode:O})},renderError:w,renderLoader:E,renderProtectedView:S,transformGetDocumentParams:M,withCredentials:I,onDocumentAskPassword:A}))))},exports.Worker=function(e){throw e.children,new Error("The Worker component is moved to @react-pdf-viewer/worker or @react-pdf-viewer/legacy-worker")},exports.chunk=We,exports.classNames=O,exports.createStore=function(e){var t=e||{},n={},r=function(e,r){var o;t=c(c({},t),((o={})[e]=r,o)),(n[e]||[]).forEach((function(n){return n(t[e])}))},o=function(e){return t[e]};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,t){r(e,t)},updateCurrentValue:function(e,t){var n=o(e);void 0!==n&&r(e,t(n))},get:function(e){return o(e)}}},exports.getDestination=oe,exports.getPage=re,exports.isFullScreenEnabled=E,exports.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},exports.useDebounceCallback=p,exports.useIntersectionObserver=r,exports.useIsMounted=Ce,exports.useIsomorphicLayoutEffect=n,exports.usePrevious=o,exports.useRenderQueue=k;
